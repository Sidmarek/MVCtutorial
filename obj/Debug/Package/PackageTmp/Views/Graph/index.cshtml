
@Html.Partial("~/Views/Menu/_Menu.cshtml")

<!DOCTYPE html>

<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <link href="./css/style_01.css" rel="stylesheet" type="text/css" />
    <script language="javascript" type="text/javascript">

    // pokus na�ten� konfigurace ze serveru
    function getConfig3() {
    var url_1 = 'graph/getConfig';
    console.log("Hello Config");
    var nameView = "name_" + "EN";
    $.ajax({
        url: url_1,
        async: true,
        dataType: "json",
        type: 'post',
        success: function (data, textStatus) {
            console.log('get config3');
            console.log(data);
            
                console.log("baf");
            //saveConfig();
        }
    });
    };
    function sendJSON() {
        getConfig3();
        var jsonArray = {
            "beginTime": 528990048, "timeAxisLength": 86400,
            "tags": [{ "table": "norm", "column": "iWMU_Temp", "period": 20 },
                      { "table": "norm", "column": "iMF1_Temp", "period": 20 },
                      { "table": "norm", "column": "iMF2_Temp", "period": 20 },
                      { "table": "norm", "column": "diMF1_Weight", "period": 20 },
                      { "table": "norm", "column": "diMF2_Weight", "period": 20 },
                      { "table": "slow", "column": "iMF1_Status", "period": 60 },
                      { "table": "slow", "column": "iMF2_Status", "period": 60 },
                      { "table": "slow", "column": "iMF1_Step", "period": 60 },
                      { "table": "slow", "column": "iMF2_Step", "period": 60 } 
        ]};
        var json = JSON.stringify(jsonArray);
        var xmlHttp = new XMLHttpRequest();
        var url = "/graph/getData";
        xmlHttp.open("POST", url, true);
        console.log("112");
        xmlHttp.send(json);
        console.log(json);
    }
    </script>

    <title>Canvas drawing</title>
</head>
<body id="body" onLoad="" scroll="no" style="overflow: hidden;">

    <div id="menu">
        <input style="height: 22px; width: 45px;" type="button" value="<--" onClick="backShift()" />
        <input style="height: 22px; width: 45px;" type="button" value="-->" onClick="fwdShift()" />
        <input style="height: 22px; width: 45px;" type="button" value="-><-" onClick="narrow()" />
        <input style="height: 22px; width: 45px;" type="button" value="<->" onClick="extend()" />
        <input style="height: 22px; width: 50px;" type="button" value="<-day" onClick="backDay()" />
        <input style="height: 22px; width: 50px;" type="button" value="day->" onClick="fwdDay()" />
        <input id="zoom" style="height: 22px; width: 50px;" type="button" value="zoom" onClick="zoomSignal(value)" />
        <input style="height: 22px; width: 50px;" type="button" value="date" onClick="calendar();" />
        <input id="reset" style="height: 22px; width: 50px;" type="button" value=">0<" onClick="resetValue(value)" />

        <input style="position: absolute; left: 605px; height: 22px; width: 60px;" type="button" value="refresh" onClick="reload()" />
        <select id="group" style="position: absolute; left: 670px; height: 22px; width: 210px;" onChange="changeGroup(value)" tabindex="1" method="get">
            <option value="1">p�ehled</option>
            <option value="2">detail</option>
        </select>
        <input id="lang" style="position: absolute; left: 885px; height: 22px; width: 75px;" type="button" value="lang:EN" onClick="changeLang($('#group').val(),value)" />
        <input id="zone" style="text-align: left; position: absolute; left: 965px; height: 22px; width: 120px;" type="button" value="zone:CET" onClick="changeZone(value)" />
        <input style="position: absolute; left: 1090px; height: 22px; width: 50px;" type="button" value="mode" onClick="chartMode()" />
    </div>

    <div id="calendar" style="position: absolute; top: 32px; left: 365px; background-color: #F0F0F0; z-index: 10; visibility: hidden">
    </div>

    <div id="content">
        <canvas id="active_canvas" width="1920" height="1200" style="position: absolute; left:0px; top: 32px; z-index: 4;"></canvas>
        <canvas id="front_canvas" width="1920" height="1200" style="position: absolute; left:0px; top: 32px; z-index: 3;"></canvas>
        <canvas id="signal_canvas" width="1920" height="1200" style="position: absolute; left:0px; top: 32px; z-index: 2;"></canvas>
        <canvas id="back_canvas" width="1920" height="1200" style="position: absolute; left:0px; top: 32px; z-index: 1;"></canvas>
    </div>

    <div id="sources">
        <!-- graphicList -->
        <img id="status" style="display: none;" src="/img/status.png" />
        <!-- event icons -->
        <img id="close" style="display: none;" src="/img/close.png" />
        <img id="signal_visible" style="display: none;" src="/img/signal_visible.png" />
    </div>

    <script src="/js/jquery-latest.js"></script>
    <!--[if lt IE 9]>
      <script src="excanvas.js"></script>
    <![endif]-->
    <script src="/lib/pktime.js"></script>

</body>
</html>